#+TITLE: Vending Design Document
#+EMAIL: NELA.Percy@gmail.com
#+AUTHOR: Percy, Amanda, Rob, Iya
#+DATE: May 2017
#+DESCRIPTION: Zambia is a piece of Con Management Software.  This document is a guide to building the Vendor System for the Zambia FFF-branch instance.  This is still a work in progress.
#+MACRO: DESCRIPTION Zambia is a piece of Con Management Software.  This document is a guide to building the Vendor System for the Zambia FFF-branch instance.  This is still a work in progress.
#+KEYWORDS: Zambia, Documentation, FFF branch
#+MACRO: KEYWORDS Zambia, Documentation, FFF branch
#+LANGUAGE: en
#+OPTIONS: \n:nil ^:nil timestamp:nil creator:nil H:3 num:3 toc:nil @:t ::nil |:t -:t todo:t tasks:t tags:t <:t *:t author:t email:t skip:nil d:t f:t pri:t
#+STARTUP: fninline
#+SETUPFILE: "Headers/setupfile.org"
#+INCLUDE: "Headers/include.org"
#+TOC: headlines 2
#+TODO: TODO(t) MYQA(m) VENDORQA(v) | DONE(d)
#+LaTeX: \listoftables
#+LaTeX: \listoffigures
#+LaTeX: \newpage
#+LaTeX: \pagenumbering{arabic}
* General Design
  This is a working guide on how the vending portion of Zambia will be
  designed/changed.  Some of it is already in place, some has yet to
  be built.  This guide should have all the relevant bits in it so
  that all the stake-holders can have their say, and we are working
  off of one document.

  NOTE: when there is a - or a + next to things, it's because I asked
  that as a question, or made a supposition, and it was answered (by
  Amanda) so, for now at least the - is my side of the conversation
  and the + is her side of the conversation.
* Database Design
** Perennial
   These are the current values that should be migrated to the Zambia
   values if they are not already set.  The latest entries will be
   considered canonical.  The ones of these in CongoDump will be more
   or less fixed and (currently) take an act of Vendor Coordinator (or
   other back-end Zambia person) to update.  

   The ones of these in Bios can be updated by the
   Vendors. times_at_fff_untracked should also be fixed.  Not sure
   about vendor_type.  If their "DBA" name is different from their
   vendor_business_name then, that can go in the bio field.

   The logo submission has yet to be determined, but I figure it's
   going to be handled along the same lines as the picture that we
   use for Presenters.

   The bulk of the changes are in 41_VendorInfo.sql
*** id
**** DONE CongoDump.badgeid
*** vendor_address
**** DONE CongoDump.postaddress1 and CongoDump.postaddress2
*** vendor_business_name
**** DONE CongoDump.badgename, Bios - badgeid=id, biotype=name
*** vendor_city
**** DONE CongoDump.postcity
*** vendor_contact_email
**** DONE CongoDump.email
*** vendor_contact_name
**** DONE CongoDump.firstname, CongoDump.lastname
*** vendor_contact_phone
**** DONE CongoDump.phone
*** vendor_country
**** DONE CongoDump.postcountry
*** vendor_description
**** DONE Bios - badgeid=id,, biotype=bio 
*** vendor_state
**** DONE CongoDump.poststate
*** vendor_website
**** DONE Bios - badgeid=id, biotype=url
*** vendor_twitter
**** DONE Bios - badgeid=id, biotype=twitter
*** vendor_facebook
**** DONE Bios - badgeid=id, biotype=facebook
*** vendor_fetlife
**** DONE Bios - badgeid=id, biotype=fetlife
*** vendor_DBA
**** DONE Bios - badgeid=id, biotype=dba
*** vendor_zipcode
**** DONE CongoDump.postzip
*** vendor_type
    - New? possibly a short list of possible with a mapping to the
      vendor?
    - Might also include "community table" as a type?  If this isn't a
      short list of pickable things, we might want to make another
      table field "vendor/community table" with allowable "V" or "C"
      as part of the enum.
    - Vendor_type should be table, with a selectable (not just pull-down)
      list, and set by them.
**** DONE Needs to be created/mapped based on other Types descriptions
     - VendorTypes table vendortypeid, vendortypename, vendortypedesc
     - VendorIs table badgeid, vendortypeid
*** times_at_fff_untracked
    The number of times they vended at the fff that we currently don't
    have in the database, so that the generated number below can be
    (more) accurately generated.  As we add more instances (as I find
    them) this should probably get adjusted, so it's not artificially
    inflated. 
**** DONE VendorTimesAdj created as a standalone table vaguely similar to Interested
     badgeid, vendortimesadj
** Annual
   Most of these have to either be created, or co-opted, since the way
   that it was being done before is too baroque and complicated.  Easy
   enough to simply make new tables, and reuse little bits, instead
   of trying to force everything into the other work-flow, as we did on
   an "emergency" and "emergent" basis, originally.
*** this event's check
**** DONE combination of badgeid and conid to avoid multiple entries for an event.
*** id - varchar(15)
    linked to Participants.badgeid
**** DONE VendorAnnualInfo.badgeid
*** conid - int(11)
    linked to ConInfo.conid
**** DONE VendorAnnualInfo.conid
*** created - timestamp
    - when applied I think?
    + CORRECT
**** DONE VendorAnnualInfo.vendorwhenapplied
*** digital_advertising - complex
    - y/n or $ or type? 
    - do they want it? or how much?
    +  JUST A Y/N
    - Actually a drop-down / select (not a mulit-select)
    - three tables
**** DONE a list of the possible default digital advertizing types (BaseDigitalAd)
       - basedigitaladid, basedigitaladname, basedigitaladdesc
**** DONE a list of digital advertizing for this event, the prices, and the conid (DigitalAd)
       - digitaladid, basedigitaladid, conid, digitaladprice, display_order
**** DONE a mapping of VendorAnnualInfo.vendoranualid (VendorHasDigitalAd)
       - badgeid, digitaladid, digitaladcount
*** fff_sponsorship - complex
    - y/n or $ or level? 
    - will they sponsor us?
    + JUST A Y/N
    - Actually as a level.
    - three tables
**** DONE a list of the possible default digital advertizing types (BaseSponsorLevel)
       - basesponsorlevelid, basesponsorlevelname, basesponsorleveldesc
**** DONE a list of digital advertizing for this event, the prices, and the conid (SponsorLevel)
       - sponsorlevelid, basesponsorlevelid, conid, sponsorprice, display_order
**** DONE a mapping of VendorAnnualInfo.vendoranualid (VendorHasSponsorLevel)
       - badgeid, sponsorlevelid, sponsorlevelcount
*** print_advertising - complex
    - y/n or $ or type? 
    - do they want it?
    + JUST A Y/N
    - Multi-select (drop down) as a possiblity.
    - Bag stuffer
    - three tables
**** DONE a list of the possible default digital advertizing types (BaseDigitalAd)
       - baseprintadid, baseprintadname, baseprintaddesc
**** DONE a list of digital advertizing for this event, the prices, and the conid (DigitalAd)
       - printadid, baseprintadid, conid, printadprice, display_order
**** DONE a mapping of VendorAnnualInfo.vendoranualid (VendorHasDigitalAd)
       - badgeid, printadid, printadcount
*** updated - timestamp
    - most recently updated, I believe
    + CORRECT
**** DONE VendorAnnualInfo.vendorupdated
*** vendor_acknowledgement - varchar(50) (signature)
    - Vendor acknowledges ... something?
    + VENDOR ACKNOWLEDGES THEY AGREE TO OUR TERMS AND CONDITIONS -
      THIS SHOULD BE AGREED TO ANNUALLY 
    - Possible second page, with what the agreement is.
**** DONE VendorAnnualInfo.vendoracknowledgement
*** vendor_additional_notes / additional_information - text
    - this might also want to be perennial as well, perhaps?
    + ANNUAL ONLY; THIS IS REGARDING REQUESTS (EX:  FUR ALLERGY, WALL,
      ETC)
**** DONE VendorAnnualInfo.vendornotes
*** vendor_amenities_foo - ?? (see also VendorFeatures)
    - A variety of possible fields?  How is this  used?
      - 6ft_table
      - corner_endcap
      - extra_badges
      - number_of_chairs
      - shared_electrical 8ft_tables
    +  RIGHT NOW IT'S SPLIT INTO MULTIPLE LINES WITH MULTI OPTIONS.  #
       OF TABLES, # OF CHAIRS, CORNER/END CAP, ELECTRICAL, EXTRA
       BADGES
    - three tables
**** TODO need to migrate old information somehow, as well as build the three tables
**** DONE BaseVendorFeature
     basevendorfeatureid, basevendorfeaturename, basevendorfeaturedesc
**** DONE VendorFeature based on VendorFeatures
     vendorfeatureid, basevendorfeatureid, conid, vendorfeatureprice,
     display_order
**** DONE create VendorHasFeature
     badgeid, vendorfeature, vendorfeaturecount
*** vendor_contract - varchar(5)
    - How is this used?
    + THIS IS INITIALS TO STATE THEY READ AND AGREE TO OUR TERMS ALREADY ABOVE
    - Probably not used, see above vendoracknowledgement
**** DONE see VendorAnnualInfo.vendoracknowledgement
*** vendor_invoiced - Y/N (enum)
    - Were they invoiced?
    + YUP
    - more complex, town invoice, and then us invoice.  Details probably
      involved as to what the invoice is for.
**** DONE part of Vendor Status
*** vendor_location - ??
    - Where we put them.
    + YUP
    - This might want to be slightly more complex, building, room, and
      booth-number
**** DONE VendorLocation table
     Set of tables makes this up.  See below for details
*** vendor_payment_adjustment - decimal(8,2)
    - Adjustments to the bill
    + YUP
    - chance for adjustments (like shitty corner, or still owes us money)
    - description field to say why there was an adjustment
**** DONE VendorAnnualInfo.vendorpayadj, VendorAnnualInfo.vendorpayadjdesc
*** vendor_payment_amount - decimal(8,2)
    - amount they paid, should match invoiced amounts
    + YUP
    - differentiated by the above adjustment
    OK, since we have (at least) two invoices per vendor per event, we
    need to have a table that tracks it.  So extra information can be
    collected as well.
    The table should have the badgeid, the conid, the transaction
    date, the amount billed, the amount paid, the name and description
    of the transaction, and who they asked the email to be sent to.
    We need some feedback from the vendors to see if they are getting
    a copy of their invoice via email.  Otherwise I have to track down
    why it doesn't actually go there, (probably having something to do
    with the blank "merchmailtemplate" field or "confemailtemplate"
    field)
**** DONE Invoice table
     - Generated from VendorInvoice in Verbiage
     - Fed from the VendorWelcome_# status pages.
     - Tracked invoiceid, badgeid, conid, invoiceref (#),
       invoiceorderid (#), invoicedate, invoiceamt, invoicecost,
       invoicepaid (all three should agree), invoicename, invoicedesc,
       invoiceemail, invoiceshipemail (both should agree)
*** vendor_payment_received - Y/N (enum)
    - check box?
    + YES
    - default "N" or maybe blank?
    - Possibly No (blank?), Warwick, and In-full as field entries.
**** DONE part of Vendor Status
*** vendor_preferred_space - ?? (see also VendorSpaces)
    - Where they would like to be put.
    + NO - THIS IS BOOTH SIZE (SINGLE, DOUBLE, ETC)
    - What is requested - several options, this is just your
      preference, no guarentees.  (select at most 3)
    - four tables
**** DONE BaseVendorSpace based on VendorSpaces
     basevendorspaceid, basevendorspacename, basevendorspacedesc
**** DONE VendorSpace based on VendorSpaces
     - This event's options, based on VendorSpaces
     - vendorspaceid, basevendorspaceid, conid, vendorspaceprice,
       display_order
**** DONE VendorPrefSpace
     badgeid, vendorspace, vendorspacerank (enum 1st, 2nd, 3rd)
**** DONE VendorHasSpace
     badgeid, vendorspace, vendorspacecount
*** vendor_loadin_self_carry - Y/N (enum)
    - will they?
    - This should be Y/n, right?
    + YES
**** DONE VendorAnnualInfo.vendorselfcarry
*** vendor_sponsorship_package  - ??
    - what package they wanted?  They actually bought?
    + THIS IS THE Y/N ABOVE
    - if this is redundant it should be removed.  If it is the same as
      what is in missing, below, then ... perhaps not so missing after
      all?
    - Redundant with the first one.
**** DONE with the above.  Make sure the data is migrated appropriately.
*** vendor_status / status - Denied/Approved/Accepted/Approved/Paid (sub-table)
    + STATUS
    + DENIED, APPROVED, ACCEPTED, APPROVED AND PAID
    - Approved is in twice?  Should it be 4, Denied, Approved,
      Accepted, Paid?  I'd also add "Proposed" or the like?
    - Proposed, Applied, NELA Approval, Warwick Invoiced, Pending
      Warwick Approval, Warwick Approval, NELA Invoiced, Paid,
      Accepted, NELA Denied, Warwick Denied, Banned.
**** DONE probably based on Interested/InterestedTypes
     VendorStatusTypes - vendortypeid, display order, vendortypename,
     vendortypedesc -- populated.
     VendorStatus - conid, badgeid, vendorstatustypeid
*** rejected_reason - text
    + KEEP, WOULD BE SUBJECT TO CHANGE UNLESS VENDOR IS BANNER
**** DONE VendorAnnualInfo.vendordenyreason
*** Tracking fields similar to participant tracking on what was done.
**** DONE based on SessionEditHistory/SessionEditCodes/NotesOnParticipants
     - VendorEditHistory: vbadgeid, conid, badgeid, vendoreditcode,
       vendorstatustypeid, vendorchangets, vendordelta
     - VendorEdit Codes: vendoreditcode. display_order, vendoreditname
** Missing
   These are values that I think we need, that don't seem to actually
   exist anywhere else, and should probably be at least tracked, if
   not having several layers to them, so that they can be figured into
   things like costs, and historical data.
*** vendor_actual_space
    - single, double, room, etc. probably based on the same
      VendorSpaces/VendorHasVendorSpace etc.
    - Us modifyable, not them modifiable.
**** DONE see above under VendorHasSpace
** Generated
   These values would not actually be stored anywhere, but generated
   for various purposes, from other information collected in the
   database, rather than simple values.  The Vendor Invoice Amount
   should also go along with the Vendor Invoice, which lists all the
   things they are paying for, and interfaces with our credit-card
   system.
*** vendor_invoice_amount - decimal(13,4)
    - Money
    + YUP
    - possibly a generated field, as opposed to a stored one, based
      on the varieties chosen in vendor_amenites,
      vendor_payment_adjustment, vendor_actual_space and others?
    - These live on the Verbiage VendorWelcome_# pages depending on
      what they selected.
    - Warwick seperate from NELA
    - Need final work on this.
*** times_at_fff 
    - currently a freeform field, should probably be generated, with a
      special number that adds in, for (currently) untracked events.
    + SOUNDS GOOD
    - Base figure above in perennial
** Structure
   These are the proposed new tables or modifications to existing
   tables that the data will be collected in.  Mostly interesting for
   building purposes, but also for those curious on how things operate
   under the hood, because, I like sharing that way, as opposed to
   keeping things secret and cryptic.  Yes, I know it's called "code"
   because we didn't want you to know what it did, but ... 
*** Vendor Constants
    - Most of these (as listed) are already in the CongoDump table.
    - Two need their own table:
      - vendor_type
        possibly a short list of possible with a mapping to the
        vendor, so might be another table
      - times_at_fff_untracked - in VendorTimesAdj
*** Vendor Yearly (by Event) Variables 
    - VendorAnnualInfo
    - Most just are, as specified in this table
    - Some might be cross-references to the other tables below, or be
      in the other tables entirely.
*** Vendor Features
    Probably just a tweak to this table, and might need to be a
    "standard set" and a "this event set" like BaseFeatures and
    Features does as well as BaseServices and Services does and a
    repurposing of "SessionHasVendorFeature" to
    "VendorHasVendorFeature"
    - BaseVendorFeature - list of possiblilities
    - VendorFeature - list of this event's actual choices
    - VendorHasFeature - list of which vendor has which choice
*** Vendor Spaces
    Probably just a tweak to this table, and might need to be a
    "standard set" and a "this event set" like BaseFeatures and
    Features does as well as BaseServices and Services does and a
    repurposing of "SessionHasVendorSpace" to "VendorHasVendorSpace"
    - BaseVendorSpace - list of possiblilities
    - VendorSpace - list of this event's actual choices
    - VendorPrefSpace - list of requested spaces by the vendor
    - VendorHasSpace - list of which vendor has which choice
*** Vendor Location
    Might be it's own table, with conid (linked), badgeid (linked),
    building, floor, room (possibly linked) or maybe map name, and
    booth_number, and then code around it so blanks just don't get
    reported (aka, if they are a room vendor, their booth_number might
    not be listed, but if there are several vendors in a room, it
    might be.)  This might also allow ties to maps, and possibly the
    redraw of maps.
*** Vendor Status
    Might want to be it's own table as a mapping, so searches, and
    display_order could be set.  See the piece below in Front End for
    each element.
    - VendorStatusTypes - list of possible statuses
    - VendorStatus - what status each vendor is at per event
*** Vendor Sponsorship Package/vendor_sponsor_level
    - BaseSponsorLevel - list of possiblilities
    - SponsorLevel - list of this event's actual choices
    - VendorHasSponsorLevel - list of which vendor has which choice
*** digital_advertising_level
    - BaseDigitalAd - list of possiblilities
    - DigitalAd - list of this event's actual choices
    - VendorHasDigitalAd - list of which vendor has which choice
*** print_advertising_level
    - BasePrintAd - list of possiblilities
    - PrintAd - list of this event's actual choices
    - VendorHasPrintAd - list of which vendor has which choice
*** Types of Vendors (what they vend)
    - Default list in VendorTyoes
    - Vendor mapping in VendorIs
*** Vendor Information Edited
    List of codes to indicate what was done to the vendor information
    - VendorEditCodes
    - Hasn't yet been implemented.
*** Vendor Change History
    Track what was done, per vendor, to them, when.
    - VendorEditHistory - Some of the edits, theoretically with the
      VendorEditCodes, but ... mostly in NotesOnVendors.
    - NotesOnVendors - More history
*** Vendor Invoicing
    Actually set up for all invoicing, but referenced by vendor
    - Invoice
*** Vendor Location
    Base Tables:
    - BaseLocBuilding
    - BaseLocFloor
    - BaseLocRoom
    - BaseLocSubRoom
    All base location tables are the generics that this particular
    con pulls from to be able to set the Location table.  All have
    id, name, and description.
     Location Table:
    - locationid = key
    - baselocbuilding = from Base table
    - baselocfloor = from Base table
    - baselocroom = from Base table
    - baselocsubroom = from Base table
    - conid = conid
    - divisionid = from Divisions table
    - trackid = from Tracks table
    - locationkey = key for printing/map reference
    - locationmap = url for the map
    - locationheight = height of the space
    - locationdimensions = dimensions of the space
    - locationarea = area of the space
    - locationnotes = any other notes
    - display_order = display order
    VendorLocHasTime Table:
    - locationtimeid = key
    - locationid = from Location table
    - locationstart = room opens
    - locationend = room closes
    VendorHasLoc Table:
    - badgeid = Who
    - locationid = Where in the world
    - booth = Where in the room
    The Base tables should be fairly static, and contain all the
    possibles for combinations.
    The Location table has the specific locations for this con.  This 
    should probably be generalized to be able to be used in the
    schedule frame as well, for programming and events and other
    things, so that some of the griding becomes easier.
    The VendorLocHasTime can have multiple entries per location id,
    so that if there is a start time and an end time, they can be
    noted, and can become constraints for scheduling, and fodder for
    the grid.
    The VendorHasLoc table is where the vendor is actually assigned
    to be.
*** More structure in the 41_VendorInfo.sql file
** Still Unknown
   These are the variables that exist already in the other usage
   space, that I still don't have a handle on.  More explination would
   be very useful.  Probably actually traced in one of the Vendor
   Change History tables above.
*** created_by - number
    - Not sure what this does?
    + I THINK IT"S VENDORS NAME VS. I UPDATED, ETC
    - So ... how should it be expressed/tracked?
    - Probably covered by VendorAnnualInfo.vendorupdated tracking (above)
*** ordering_count - number
    - Another random number?
    + YES
    - Should it be kept?  Removed, what is it's state?  What is it's
      purpose?
    - timestamp on entry rather than something else, kept in
      timestamp, otherwise ... who knows.
    - Probably covered by VendorAnnualInfo.vendorwhenapplied
* Front End
** Available Pages
   This should be the comprehensive list of all the pages that either
   the vendors/community table folk need to interact with or those who
   manage them (the Div Head) needs to interact with.
*** Returning Vendor sign-in
    By number or email address.
    - Update page (subset of new apply page)
    - apply page (subset of new apply page)
**** VENDORQA Generic login page
*** Returning Community Table sign-in
    By number or email address.  Might simply be switched on one of
    the values in the vending type or on it's own value, and just have
    one place to go?  Since we are collecting pretty much the same
    information for them both?  Or should I be separating them out?
    - not for this year, but community table a separate page (at least
    for winter, since they don't have to apply)
    - BIG NOTE: any money exchanged makes you a vendor, Be aware
**** TODO Currently simply a subset of vendor information.
     - Needs to have differential words put in on indication that is a
       community table.
*** New Vendor proposal
    With a catch to see if they are already in our database, using
    their email address
**** VENDORQA Special Brainstorm page
*** New Community Table proposal
    With a catch to see if they are already in our database, using
    their email address
    - not for this year, but community table a separate page (at least
    for winter, since they don't have to apply)
**** TODO Currently simply a subset of vendor information.
     - Needs to have differential words put in on indication that is a
       community table.
*** Returning Vendor/Community Table informational gathering
    This can be the same, although there might, again, be a slight
    difference bases on vendor/community table differences.  Also, we
    might want to present last? event's information as defaults, so
    they have to do less typing. Dealing with changes once the state
    has changed to "invoice generated" might require Vendor Div Head
    intervention.
    - Steps to do this.  This will be several "pages" as the Welcome
    Page, depending on status.
**** VENDORQA Proposed (1) / Applied (2)
     Either Proposed (by someone else) or Applied (basically filling
     out the form we are giving, or (which isn't set up yet) a
     returning Vendor, filling out a shorter form, but will all the
     appropriate event information on it.
     - Waiting on Vendor QA of the words.
     - Auto advance to the next, this year, subsequent years this will
       be the spot things pause waiting for NELA Approval
***** TODO Currently we don't distinguish between Proposed and Applied
      Find where this is failing and fix. 
**** VENDORQA NELA Approved (3) - renamed Warwick Application this year
     Once a set of the proposals are in, the jury decides if their
     proposal is accepted and acceptable, the NELA Approved button for
     them is clicked, email is sent to them letting them know that
     they are a NELA approved vendor, and they should log in (with
     their log in information) to go to the next step.  They see the
     second page when they log in, which has the information about
     what Warwick is doing differently this year, and a link to pull
     down the PDF to be filled in, and a way to submit the filled-out
     PDF.
     - No auto advance this year, subsequent years this will auto
       advance to the invoice, once we have approved of them.  If they
       screw up their form, they can be set back to this level, or
       have a communication about a screwed up form.
**** VENDORQA Warwick Invoiced (4)
     Once the PDF has been submitted and/or when the next button has
     been clicked, they are then presented with an invoice for the
     Warwick fees.
     - Still needs final invoice testing by someone not NELA.
     - Auto Advance to the next.
**** VENDORQA Pending Warwick Approval (5)
     Once the fees have been paid and/or when the next button has been
     clicked, they are given the message, when they log in, that they
     are still pending Warwick's approval.
     - No auto advance.
**** VENDORQA Warwick Approval (6)
     Once we get Warwick's approval, the button is clicked and they
     will see the message, something to the effect of "Warwick has
     approved, this is your current order, do you want to change
     anything before your invoicing (this is where the various
     digital, print, and sponsorship options, as well as the amenities
     can be changed, as well).
     - Auto Advance to the next.
**** VENDORQA Invoiced (7)
     Once they indicate that their invoice is fine, the invoice is
     presented.  They then can pay it.
     - MISSING pay adjustment, and booth type at least
     - MISSING possible multipe booth types.
     - Still needs final testing by somone not NELA.
     - Auto Advance to the next.
**** VENDORQA Paid (8)
     This is the state they will be in once the invoice is paid.  At
     this point, it can flow directly to the next step, but I have
     something (somewhat confusing in my notes) to the effect that
     there wants to be a check ... sent to them? or sent to us? or
     possibly that we are waiting on a check, or something else, that
     means that they are waiting in this state.
     - No auto advance.
**** VENDORQA Accepted (9)
     Once this button is clicked, then everything comes up roses, they
     are on our websites, and visible, and all is good in the world.
     - Final state.
**** VENDORQA NELA Denied (10)
     For those vendors who just didn't make the cut (this event?)
     usually would happen after (or instead of) the NELA Approved (3)
     state.
     - Final state.
**** VENDORQA Warwick Denied (11)
     For those vendors who didn't make Warwick's cut this event (and
     can they apply again, subsequent events?  Are we going to track
     the reason Warwick rejected them?  Will we even know the reason?)
     usually would happen after (or instead of) the Warwick Approval
     state.
     - Final state.
**** VENDORQA Banned (12)
     So we track those who are banned, so if they try to apply, we
     know.  Probably clunky, and ... not sure at what point in the
     process they should be informed.  I'm thinking at about the NELA
     Denied, right after (or instead of) the NELA Approved state as
     well.
     - Final state.
**** VENDORQA Duplicate (13)
     For vendors who somehow have more than one entry in Zambia, and
     managed to submit more than one entry to be processed for this
     event.  This will allow us to track and remedy that later.
     - Final state.
**** VENDORQA Withdrew (14)
     Vendors who have changed their minds, and decided to withdraw
     from our event.
     - Final state.
**** TODO Write "advance to next"
     Default increment 1, but able to be incremented otherwise by
     flag, or something, so that all the unique code can be collaped
     down to something simpler.
**** VENDORQA VendorAdminState.php
     Change a vendor between the various states.
*** Returning Vendor informational update
    This might not be necessary, based on the above page keeping what
    is set for this event as set.
     - SuperVendor can also update anyone here.
**** VENDORQA VendorApply.php
*** Returning Vendor/Community Table Bio update
    Page that they can, at will update their web or book information,
    along with all their other invormation.
     - SuperVendor can also update anyone here.
     - There is only a subset of the information available here, so
       the vendor coordinators, or someone else (currently the Zambia
       Librarian) is keeping everything in sync.
     - All the information is available on the standard Bios editing
       page as the bottom table.
**** VENDORQA VendorSubmitVendor.php StaffManageBios.php
*** Invoice
    Not available until after both they are accepted (by Vendor
    Div Head), and they hit the "generate invoice" button, which
    probably should lock changes.  Once the invoice is generated, it
    should be fixed, and also payable.
    This will (of course) be a comprehensive list of everything they
    agreed to.  The invoice page should continue to be available after
    they paid, so there is a referece point to the services agreed
    to/paid for.
**** DONE included in above Returning set of pages.
*** Ad Copy Submissions
    For those who have agreed to either digital or print ads, this is
    a place for them to upload/submit them.
    - Probably offline, going directly to the AD folk.
**** TODO (perhaps, at some point?)
*** Vendor Price Adjustment
    The page that somehow has the price adjustment, and reasoning
    behind such price adjustment.
    This might be included in one of the other (probably Vendor Jury
    or Vendor Placement) pages below.  Most likey the first of the
    Vendor Placement pages, but ... being that this is yet undefined,
    we would have to come up with something.
    This is a positive or negative number, not a percent.  It should
    be figured off of whatever is appropriate, and the descripton
    should accommodate any reasoning.
**** VENDORQA VendorPayAdj.php
*** Vendor Jury
    The page that all the proposed vendors, with certain bits of
    information (to be determined, since I've not seen that page yet
    in our current system) will be on for the Vendor Div Head to move
    vendors to either "Accepted" or "Denied".  Probably includes some
    vendor notes and the like, including "Denied Reasons" Also
    probably where any price adjustments happen to the invoice.  Maybe
    a grouping by Vendor Type, and leaving the ones already moved on
    from this in a different colour, so that those already accepted,
    and their type, will be shown for balance reasons.
**** VENDORQA in pieces
***** VENDORQA first report - Vendor State change
      Which allows for changing the Vendor State is done.
***** VENDORQA second report - List of those with PDFs
      The set of Vendors with possible PDFs waiting to be checked and
      promoted.
***** TODO set of tunable reports
      All the reports that allow the Vendor Folks to make
      determinations on who/how many, etc.  Need vendor feedback to
      determine what these are and what information they are looking
      for.
***** TODO voting page
      Much like other voting pages, perhaps?  With our current Super
      Vendors confirring over all the Warwick pieces, this might not
      be necessary for this year, but still should get written.
*** Vendor Placement
    After the invoice is paid? Or perhaps slightly different, if there
    is those that have invoice exceptions allowing for the placement
    of vendors.  Probably should have the invoice amount paid, and
    invoice amount expected on this page, to verify that they are,
    indeed, all paid up.  Also the vendor type should show up here, as
    well, so that similars can either be grouped together, or spread
    apart, as per the decision of the Div Head. May also contain
    previous placements, or links to previous maps or something useful
    along those lines.  Including the current svg of the map.
    - Three Pieces:
**** MYQA VendorSetupLocation.php
     This sets the possible rooms for the locations to be in.
     Still missing:
     - removals
     - updates
     - other con views
**** VENDORQA VendorAssignSpace.php (top form)
     Initial vendor booth type selection.
     This will be end-cap?  Bedroom vendor?  Single?  Double? Which of
     their choices get filled? More than one booth? Should be before
     Invoicing, so Invoicing is correct.
**** VENDORQA VendorAssignSpace.php (bottom form)
     Map Placement.
     Once the booths are assigned, this will get set, so their map
     coordinates are set.  This only shows up after the Initial vendor
     booth type selection.
*** Administer Vendor Options
    Page that has the Amenities and Spaces for this event, pulled from
    the standard pool.  To be updated by the Vendor Coordinator on an
    event by event basis.
    - needs removal option
**** VENDORQA VendorSetupSpaceFeature.php
*** Adminsiter Ad/Sponsor Options
    Page that has the Sponsor Levels, Digital Ads and Print Ads for
    this event, pulled from the standard pool.  To be updated either
    by the Vendor Div Head or the Publications Div Head on an event by
    event basis.
    - needs removal option
**** VENDORQA PubsSetupAds.php    
*** Administer Vendor
    Where any changes are made to the vendor information (both that
    they can change and that they can't) for creation/update by Vendor
    Div Head.
    - Redundant with above "Returning Vendor" pages.
**** VENDORQA VendorApply.php VendorSubmitVendor.php StaffManageBios.php
     - Still a little wonky, brings back to a less-useful page, but
       still works.  Can select by email address or by "pubsname"
       which is the business name.
*** Vendor Welcome Letter
    Generate the (physical) welcome letter to the vendors
**** TODO so it can get printed (either by pubs or by Zambia)
*** Vendor Email
    Generate (and send) various all-vendor communications
    Generic "email from Zambia" works.
**** TODO so there is a record of what is sent.
*** Vendor Badges
    Generate the Vendor Badges for printing purposes.
    - No!
**** TODO even if we won't use them.
*** Vendor Tents
    Generate all the vendor "tents" to put on their tables, to mark
    their place.
    - Business Name (and DBA?) and Booth #
**** TODO maybe not full tents, but at least large on paper.
*** Check-in/Check-out lists
    All of the vendors expected, so they can be ticked off the list
    when they get there, and, so that when they return whatever they
    have to return at the end of the night (tax forms, possibly?) can
    be ticked off again.
    - Dock forms (room vendors vs otherwise) Each one Business Name
      and Booth number.  (several copies)
    - Master List for check in.  Second for Check out. RI vendor
      marked specially.
**** TODO Might just be a report.
** Flow
*** Set Amenities
    Go to the VendorSetupSpaceFeature.php page, and set the
    appropriate amenities/prices/et al for this event.
*** Set Spaces
    Go to the VendorSetupSpaceFeature.php page, and set the
    appropriate spaces/prices/et al for this event.
*** Set Sponsorship levels
    Go to the PubsSetupAds.php page, and set the
    appropriate sponsor levels available/prices/et al for this event.
*** Set Digital Ad possiblities
    Go to the PubsSetupAds.php page, and set the
    appropriate digital ads available/prices/et al for this event.
*** Set Printed Ad possibilities
    Go to the PubsSetupAds.php page, and set the
    appropriate print ads available/prices/et al for this event.
*** Set Location possibilities
    Go to the VendorSetupLocation.php page, and set the appropriate
    locations available for the vendors.
*** Task List - Vendors
    Create Task List elemement at TaskListUpdate.php?activityid=-1
    with the call for vendors is created, with the appropriate links,
    and with the start and stop dates.
*** Task List - Community Tables
    Create Task List elemement at TaskListUpdate.php?activityid=-1
    with the call for community tables is created, with the
    appropriate links, and with the start and stop dates.
*** Email
    Possible email from Vendor Div Head goes out reminding
    vendors/community tables when the call will open and close.
    Might use StaffSendEmailCompose.php
*** Phase Change
    At the appropriate time, the Con Chair or Zambia bitch will open
    the call for vendors, in line with the appropriate task-list
    activities from the AdminPhases.php page.
*** Email
    Vendor Div Head generates and sends email letting the
    vendors/community tables know that the call is open.
    Possibly using a mailing list, or using StaffSendEmailCompose.php
*** Vendors/Community Table folk apply
    They use either the returning or the new pages, select the
    appropriate features, sponsorships, and ads that they want, and
    make sure everything is as expected.
     - Returning, they just sign in.
     - New, they use the appropriate form on the index page. 
*** (If Rolling Acceptance) Jury
    If there is a rolling acceptantce of vendors and/or community
    tables, while the vendor call/community table call is open
    acceptances can roll out and then things can go forward.
    Tools: 
     + genindex.php?gflowname=Vend
     + VendorAdminState.php
     + VendorSubmitVendor.php
     + VendorApply.php
     + Other tools TBD.
    Otherwise ...
*** Phase Change
    At the appropriate time, the Con Chair or Zambia bitch close the
    call for vendors. (This is not necessarily in the right place in
    the sequence.)  From the AdminPhases.php page.
*** Jury
    The (rest of (if rolling acceptance is happening)) vendors and
    community tables get acceptance, which probably is an individual
    email from the Div Head, with any specific to them in information
    included, and an invitation for them to pay their invoice.  The
    general booth type is to be assigned on the VendorAssignSpace.php
    page, and any pay adjustment is to be done on the VendorPayAdj.php
    page.
     - The jury pages are yet to be designed.
*** Invoice
    Vendors then (hopefully, magically, smoothly) pay their agreed-to
    invoices.  By loging in again to do so.
*** Ad Copy
    All paid for advertizing copy is generated by the vendors or
    community tables is submitted.
     - To be determined how.
*** Placement
    Div Head (and anyone else that can be roped into helping)
    schedules the vendors to be put in the appropriate locations on
    the day of the event on the VendorAssignSpace.php
*** Email
    Final email goes out, with any instruction reminders and if there
    is a manditory vendor meeting, or the like. Possibly using the
    StaffSendEmailCompose.php page.
*** Welcome Letter
    Welcome lettters generated and printed, possibly stuffed in an
    envelope or folder of some sort.
    This might include some form of their (electronically) signed
    contract, and maybe invoice highlights.  Definitely includes their
    placement information, and information on how load-in and load-out
    works, etc.
    - To be determined how.
*** Packet stuffing
    Badges, the appropriate number for each vendor and community
    table, are printed, and possibly stuffed as above.  Also
    wristbands, to be applied after IDs are checked, special tickets,
    lunch vouchers, etc.
*** Check-in/check-out lists printed
    So they are available on the day-of.
    - Has yet to be designed, but probably a simple report will do.
*** At Con
     - To be determined how.
*** Post Con Final Email
    Sent, possibly using StaffSendEmailCompose.php page or
    the mailing list.
*** Other individual notes
    Any other personal notes communicated.
*** Report for Treasurer
    Final report from the event due to the treasurer no later than 2
    weeks post-con.
* Things to add, from the new:
** Logo to be uploaded (PDF)
* Conclusion
  This should cover all the bits and pieces.  If I missed any, let me
  know so this document can be updated, and the system can be tested.
  Hopfully all will work, and this can go forth as The New Way.  Until
  we change it, again, in 2-3 years *grin*.
